if (self.CavalryLogger) { CavalryLogger.start_js(["VtI17rU"]); }

__d("StoriesPollStickerMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VoteStoryCardPollResponsePayload",kind:"LinkedField",name:"vote_story_card_poll",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null},{alias:null,args:null,concreteType:"StoryCardPoll",kind:"LinkedField",name:"story_card_poll",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_vote",storageKey:null},{alias:null,args:null,concreteType:"StoryCardPollOption",kind:"LinkedField",name:"poll_options",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vote_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_vote_index",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StoriesPollStickerMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StoriesPollStickerMutation",selections:b},params:{id:"3225566350879403",metadata:{},name:"StoriesPollStickerMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("StoriesPollSticker_overlay$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"StoriesPollSticker_overlay$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,concreteType:"StoryOverlayRectangle",kind:"LinkedField",name:"voting_control_bounds",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardPoll",kind:"LinkedField",name:"poll",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_vote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_vote_index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"StoryCardPollOption",kind:"LinkedField",name:"poll_options",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vote_count",storageKey:null}],storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("StoriesPollSticker_overlay.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesPollSticker_overlay",selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,concreteType:"StoryOverlayRectangle",kind:"LinkedField",name:"voting_control_bounds",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoriesCardOverlayPositioner_bounds"}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardPoll",kind:"LinkedField",name:"poll",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_vote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_vote_index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"StoryCardPollOption",kind:"LinkedField",name:"poll_options",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vote_count",storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryOverlayPollSticker",abstractKey:null};e.exports=a}),null);
__d("StoriesPollSticker_owner.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesPollSticker_owner",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"}],type:"CameraPostBucketOwnerUnion",abstractKey:"__isCameraPostBucketOwnerUnion"};e.exports=a}),null);
__d("StoriesPollSticker_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesPollSticker_story",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"via",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("performance-now-0.2.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(){var a,b,c;typeof performance!=="undefined"&&performance!==null&&performance.now?g.exports=function(){return performance.now()}:typeof process!=="undefined"&&process!==null&&process.hrtime?(g.exports=function(){return(a()-c)/1e6},b=process.hrtime,a=function(){var a;a=b();return a[0]*1e9+a[1]},c=a()):Date.now?(g.exports=function(){return Date.now()-c},c=Date.now()):(g.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(this)}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("fbjs-0.8.16",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){throw new Error("The fbjs package should not be required without a full path.")}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function l(){function a(a){return function(){return a}}var b=function(){};b.thatReturns=a;b.thatReturnsFalse=a(!1);b.thatReturnsTrue=a(!0);b.thatReturnsNull=a(null);b.thatReturnsThis=function(){return this};b.thatReturnsArgument=function(a){return a};k.exports=b}var m=!1;function n(){m||(m=!0,l());return k.exports}d={};var o={exports:d};function p(){var a={};o.exports=a}var q=!1;function r(){q||(q=!0,p());return o.exports}f={};var s={exports:f};function t(){function a(a,b,c,d,e,f,g,h){if(!a){if(b===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=[c,d,e,f,g,h],j=0;a=new Error(b.replace(/%s/g,function(){return i[j++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a}}s.exports=a}var u=!1;function v(){u||(u=!0,t());return s.exports}b={};var w={exports:b};function x(){var a=Object.prototype.hasOwnProperty;function b(a,b){if(a===b)return a!==0||b!==0||1/a===1/b;else return a!==a&&b!==b}function c(c,d){if(b(c,d))return!0;if(typeof c!=="object"||c===null||typeof d!=="object"||d===null)return!1;var e=Object.keys(c),f=Object.keys(d);if(e.length!==f.length)return!1;for(var f=0;f<e.length;f++)if(!a.call(d,e[f])||!b(c[e[f]],d[e[f]]))return!1;return!0}w.exports=c}var y=!1;function z(){y||(y=!0,x());return w.exports}c={};var A={exports:c};function B(){var a=n();a=a;A.exports=a}var C=!1;function D(){C||(C=!0,B());return A.exports}function a(a){switch(a){case void 0:return j();case"/lib/emptyFunction":return n();case"/lib/emptyObject":return r();case"/lib/invariant":return v();case"/lib/shallowEqual":return z();case"/lib/warning":return D()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("prop-types-15.6.0",["fbjs-0.8.16","object-assign-4.1.1"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("fbjs-0.8.16"));b("object-assign-4.1.1");d={};var h={exports:d};function i(){var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";h.exports=a}var j=!1;function k(){j||(j=!0,i());return h.exports}f={};var l={exports:f};function m(){function a(a,b,c,d,e){}l.exports=a}var n=!1;function o(){n||(n=!0,m());return l.exports}a={};var p={exports:a};function q(){var a=g("/lib/emptyFunction"),b=g("/lib/invariant"),c=k();p.exports=function(){function d(a,d,e,f,g,h){if(h===c)return;b(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}d.isRequired=d;function e(){return d}e={array:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:e,element:d,instanceOf:e,node:d,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};e.checkPropTypes=a;e.PropTypes=e;return e}}var r=!1;function s(){r||(r=!0,q());return p.exports}b={};var t={exports:b};function u(){t.exports=s()()}var v=!1;function w(){v||(v=!0,u());return t.exports}function c(a){switch(a){case void 0:return w();case"/checkPropTypes":return o()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("performance-now-2.1.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(){var a,b,c,d,e,f;typeof performance!=="undefined"&&performance!==null&&performance.now?g.exports=function(){return performance.now()}:typeof process!=="undefined"&&process!==null&&process.hrtime?(g.exports=function(){return(a()-e)/1e6},b=process.hrtime,a=function(){var a;a=b();return a[0]*1e9+a[1]},d=a(),f=process.uptime()*1e9,e=d-f):Date.now?(g.exports=function(){return Date.now()-c},c=Date.now()):(g.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(this)}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("raf-3.4.0",["performance-now-2.1.0"],(function(a,b,c,d,e,f){"use strict";function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c(b("performance-now-2.1.0"));f={};var h={exports:f};function i(){var b=g(),c=typeof window==="undefined"?a:window,d=["moz","webkit"],e="AnimationFrame",f=c["request"+e],i=c["cancel"+e]||c["cancelRequest"+e];for(var j=0;!f&&j<d.length;j++)f=c[d[j]+"Request"+e],i=c[d[j]+"Cancel"+e]||c[d[j]+"CancelRequest"+e];if(!f||!i){var k=0,l=0,m=[],n=1e3/60;f=function(a){if(m.length===0){var c=b(),d=Math.max(0,n-(c-k));k=d+c;setTimeout(function(){var b=m.slice(0);m.length=0;for(var a=0;a<b.length;a++)if(!b[a].cancelled)try{b[a].callback(k)}catch(a){setTimeout(function(){throw a},0)}},Math.round(d))}m.push({handle:++l,callback:a,cancelled:!1});return l};i=function(b){for(var a=0;a<m.length;a++)m[a].handle===b&&(m[a].cancelled=!0)}}h.exports=function(a){return f.call(c,a)};h.exports.cancel=function(){i.apply(c,arguments)};h.exports.polyfill=function(a){a||(a=c),a.requestAnimationFrame=f,a.cancelAnimationFrame=i}}var j=!1;function k(){j||(j=!0,i());return h.exports}function d(a){switch(a){case void 0:return k()}}e.exports=d}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("react-motion-0.5.2",["performance-now-0.2.0","raf-3.4.0","react-0.0.0","prop-types-15.6.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("performance-now-0.2.0")),h=a(b("raf-3.4.0")),i=a(b("react-0.0.0")),j=a(b("prop-types-15.6.0")),k={},l={exports:k};function m(){k.__esModule=!0;k["default"]=a;function a(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=0);return b}l.exports=k["default"]}var n=!1;function o(){n||(n=!0,m());return l.exports}var p={},q={exports:p};function r(){p.__esModule=!0;p["default"]=a;function a(a){var b={};for(var c in a){if(!Object.prototype.hasOwnProperty.call(a,c))continue;b[c]=typeof a[c]==="number"?a[c]:a[c].val}return b}q.exports=p["default"]}var s=!1;function t(){s||(s=!0,r());return q.exports}var u={},v={exports:u};function w(){u.__esModule=!0;u["default"]=b;var a=[0,0];function b(b,c,d,e,f,g,h){f=-f*(c-e);g=-g*d;f=f+g;g=d+f*b;d=c+g*b;if(Math.abs(g)<h&&Math.abs(d-e)<h){a[0]=e;a[1]=0;return a}a[0]=d;a[1]=g;return a}v.exports=u["default"]}var x=!1;function y(){x||(x=!0,w());return v.exports}var z={},A={exports:z};function aa(){z.__esModule=!0;z["default"]=a;function a(a,b,c){for(var d in b){if(!Object.prototype.hasOwnProperty.call(b,d))continue;if(c[d]!==0)return!1;var e=typeof b[d]==="number"?b[d]:b[d].val;if(a[d]!==e)return!1}return!0}A.exports=z["default"]}var B=!1;function C(){B||(B=!0,aa());return A.exports}var D={},E={exports:D};function ba(){D.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=g();var n=c(f);f=h();var p=c(f);f=C();var q=c(f);f=i();var r=c(f);f=j();var s=c(f),u=1e3/60;c=function(c){e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyle:s["default"].objectOf(s["default"].number),style:s["default"].objectOf(s["default"].oneOfType([s["default"].number,s["default"].object])).isRequired,children:s["default"].func.isRequired,onRest:s["default"].func},enumerable:!0}]);function f(b){var e=this;d(this,f);c.call(this,b);this.wasAnimating=!1;this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyle=null;this.clearUnreadPropStyle=function(b){var c=!1,d=e.state,f=d.currentStyle,g=d.currentVelocity,h=d.lastIdealStyle;d=d.lastIdealVelocity;for(var i in b){if(!Object.prototype.hasOwnProperty.call(b,i))continue;var j=b[i];typeof j==="number"&&(c||(c=!0,f=a({},f),g=a({},g),h=a({},h),d=a({},d)),f[i]=j,g[i]=0,h[i]=j,d[i]=0)}c&&e.setState({currentStyle:f,currentVelocity:g,lastIdealStyle:h,lastIdealVelocity:d})};this.startAnimationIfNecessary=function(){e.animationID=p["default"](function(a){var b=e.props.style;if(q["default"](e.state.currentStyle,b,e.state.currentVelocity)){e.wasAnimating&&e.props.onRest&&e.props.onRest();e.animationID=null;e.wasAnimating=!1;e.accumulatedTime=0;return}e.wasAnimating=!0;a=a||n["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>u*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/u)*u)/u;c=Math.floor(e.accumulatedTime/u);var d={},f={},g={},h={};for(var i in b){if(!Object.prototype.hasOwnProperty.call(b,i))continue;var j=b[i];if(typeof j==="number")g[i]=j,h[i]=0,d[i]=j,f[i]=0;else{var k=e.state.lastIdealStyle[i],l=e.state.lastIdealVelocity[i];for(var o=0;o<c;o++){var p=m["default"](u/1e3,k,l,j.val,j.stiffness,j.damping,j.precision);k=p[0];l=p[1]}p=m["default"](u/1e3,k,l,j.val,j.stiffness,j.damping,j.precision);o=p[0];j=p[1];g[i]=k+(o-k)*a;h[i]=l+(j-l)*a;d[i]=k;f[i]=l}}e.animationID=null;e.accumulatedTime-=c*u;e.unreadPropStyle=null;e.startAnimationIfNecessary();e.setState({currentStyle:g,currentVelocity:h,lastIdealStyle:d,lastIdealVelocity:f})})};this.state=this.defaultState()}f.prototype.defaultState=function(){var a=this.props,b=a.defaultStyle;a=a.style;b=b||l["default"](a);a=k["default"](b);return{currentStyle:b,currentVelocity:a,lastIdealStyle:b,lastIdealVelocity:a}};f.prototype.componentDidMount=function(){this.prevTime=n["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyle!=null&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=a.style,this.animationID==null&&(this.prevTime=n["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.animationID!=null&&(p["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=this.props.children(this.state.currentStyle);return a&&r["default"].Children.only(a)};return f}(r["default"].Component);D["default"]=c;E.exports=D["default"]}var F=!1;function ca(){F||(F=!0,ba());return E.exports}var G={},H={exports:G};function da(){G.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=g();var n=c(f);f=h();var p=c(f);f=C();var q=c(f);f=i();var r=c(f);f=j();var s=c(f),u=1e3/60;function v(a,b,c){for(var d=0;d<a.length;d++)if(!q["default"](a[d],b[d],c[d]))return!1;return!0}c=function(c){e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyles:s["default"].arrayOf(s["default"].objectOf(s["default"].number)),styles:s["default"].func.isRequired,children:s["default"].func.isRequired},enumerable:!0}]);function f(b){var e=this;d(this,f);c.call(this,b);this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyles=null;this.clearUnreadPropStyle=function(b){var c=e.state,d=c.currentStyles,f=c.currentVelocities,g=c.lastIdealStyles;c=c.lastIdealVelocities;var h=!1;for(var i=0;i<b.length;i++){var j=b[i],k=!1;for(var l in j){if(!Object.prototype.hasOwnProperty.call(j,l))continue;var m=j[l];typeof m==="number"&&(k||(k=!0,h=!0,d[i]=a({},d[i]),f[i]=a({},f[i]),g[i]=a({},g[i]),c[i]=a({},c[i])),d[i][l]=m,f[i][l]=0,g[i][l]=m,c[i][l]=0)}}h&&e.setState({currentStyles:d,currentVelocities:f,lastIdealStyles:g,lastIdealVelocities:c})};this.startAnimationIfNecessary=function(){e.animationID=p["default"](function(a){var b=e.props.styles(e.state.lastIdealStyles);if(v(e.state.currentStyles,b,e.state.currentVelocities)){e.animationID=null;e.accumulatedTime=0;return}a=a||n["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>u*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/u)*u)/u;c=Math.floor(e.accumulatedTime/u);var d=[],f=[],g=[],h=[];for(var i=0;i<b.length;i++){var j=b[i],k={},l={},o={},p={};for(var q in j){if(!Object.prototype.hasOwnProperty.call(j,q))continue;var r=j[q];if(typeof r==="number")k[q]=r,l[q]=0,o[q]=r,p[q]=0;else{var s=e.state.lastIdealStyles[i][q],t=e.state.lastIdealVelocities[i][q];for(var w=0;w<c;w++){var x=m["default"](u/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);s=x[0];t=x[1]}x=m["default"](u/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);w=x[0];r=x[1];k[q]=s+(w-s)*a;l[q]=t+(r-t)*a;o[q]=s;p[q]=t}}g[i]=k;h[i]=l;d[i]=o;f[i]=p}e.animationID=null;e.accumulatedTime-=c*u;e.unreadPropStyles=null;e.startAnimationIfNecessary();e.setState({currentStyles:g,currentVelocities:h,lastIdealStyles:d,lastIdealVelocities:f})})};this.state=this.defaultState()}f.prototype.defaultState=function(){var a=this.props,b=a.defaultStyles;a=a.styles;b=b||a().map(l["default"]);a=b.map(function(a){return k["default"](a)});return{currentStyles:b,currentVelocities:a,lastIdealStyles:b,lastIdealVelocities:a}};f.prototype.componentDidMount=function(){this.prevTime=n["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyles!=null&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=a.styles(this.state.lastIdealStyles),this.animationID==null&&(this.prevTime=n["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.animationID!=null&&(p["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=this.props.children(this.state.currentStyles);return a&&r["default"].Children.only(a)};return f}(r["default"].Component);G["default"]=c;H.exports=G["default"]}var I=!1;function ea(){I||(I=!0,da());return H.exports}var J={},K={exports:J};function fa(){J.__esModule=!0;J["default"]=a;function a(a,b,c){var d={};for(var e=0;e<a.length;e++)d[a[e].key]=e;var f={};for(var e=0;e<b.length;e++)f[b[e].key]=e;var g=[];for(var e=0;e<b.length;e++)g[e]=b[e];for(var e=0;e<a.length;e++)if(!Object.prototype.hasOwnProperty.call(f,a[e].key)){var h=c(e,a[e]);h!=null&&g.push(h)}return g.sort(function(a,c){var e=f[a.key],g=f[c.key],h=d[a.key],i=d[c.key];if(e!=null&&g!=null)return f[a.key]-f[c.key];else if(h!=null&&i!=null)return d[a.key]-d[c.key];else if(e!=null){for(var a=0;a<b.length;a++){c=b[a].key;if(!Object.prototype.hasOwnProperty.call(d,c))continue;if(e<f[c]&&i>d[c])return-1;else if(e>f[c]&&i<d[c])return 1}return 1}for(var a=0;a<b.length;a++){c=b[a].key;if(!Object.prototype.hasOwnProperty.call(d,c))continue;if(g<f[c]&&h>d[c])return 1;else if(g>f[c]&&h<d[c])return-1}return-1})}K.exports=J["default"]}var L=!1;function ga(){L||(L=!0,fa());return K.exports}var M={},N={exports:M};function ha(){M.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=ga();var n=c(f);f=g();var p=c(f);f=h();var q=c(f);f=C();var r=c(f);f=i();var s=c(f);f=j();var u=c(f),v=1e3/60;function w(a,b,c){var d=b;return d==null?a.map(function(a,b){return{key:a.key,data:a.data,style:c[b]}}):a.map(function(a,b){for(var e=0;e<d.length;e++)if(d[e].key===a.key)return{key:d[e].key,data:d[e].data,style:c[b]};return{key:a.key,data:a.data,style:c[b]}})}function x(a,b,c,d){if(d.length!==b.length)return!1;for(var e=0;e<d.length;e++)if(d[e].key!==b[e].key)return!1;for(var e=0;e<d.length;e++)if(!r["default"](a[e],b[e].style,c[e]))return!1;return!0}function z(a,b,c,d,e,f,g,h,i){e=n["default"](d,e,function(a,d){var e=b(d);if(e==null){c({key:d.key,data:d.data});return null}if(r["default"](f[a],e,g[a])){c({key:d.key,data:d.data});return null}return{key:d.key,data:d.data,style:e}});var j=[],l=[],m=[],o=[];for(var p=0;p<e.length;p++){var q=e[p],s=null;for(var t=0;t<d.length;t++)if(d[t].key===q.key){s=t;break}if(s==null){t=a(q);j[p]=t;m[p]=t;t=k["default"](q.style);l[p]=t;o[p]=t}else j[p]=f[s],m[p]=h[s],l[p]=g[s],o[p]=i[s]}return[e,j,l,m,o]}c=function(c){e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyles:u["default"].arrayOf(u["default"].shape({key:u["default"].string.isRequired,data:u["default"].any,style:u["default"].objectOf(u["default"].number).isRequired})),styles:u["default"].oneOfType([u["default"].func,u["default"].arrayOf(u["default"].shape({key:u["default"].string.isRequired,data:u["default"].any,style:u["default"].objectOf(u["default"].oneOfType([u["default"].number,u["default"].object])).isRequired}))]).isRequired,children:u["default"].func.isRequired,willEnter:u["default"].func,willLeave:u["default"].func,didLeave:u["default"].func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(a){return l["default"](a.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]);function f(b){var e=this;d(this,f);c.call(this,b);this.unmounting=!1;this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyles=null;this.clearUnreadPropStyle=function(b){var c=z(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,b,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities),d=c[0],f=c[1],g=c[2],h=c[3];c=c[4];for(var i=0;i<b.length;i++){var j=b[i].style,k=!1;for(var l in j){if(!Object.prototype.hasOwnProperty.call(j,l))continue;var m=j[l];typeof m==="number"&&(k||(k=!0,f[i]=a({},f[i]),g[i]=a({},g[i]),h[i]=a({},h[i]),c[i]=a({},c[i]),d[i]={key:d[i].key,data:d[i].data,style:a({},d[i].style)}),f[i][l]=m,g[i][l]=0,h[i][l]=m,c[i][l]=0,d[i].style[l]=m)}}e.setState({currentStyles:f,currentVelocities:g,mergedPropsStyles:d,lastIdealStyles:h,lastIdealVelocities:c})};this.startAnimationIfNecessary=function(){if(e.unmounting)return;e.animationID=q["default"](function(a){if(e.unmounting)return;var b=e.props.styles;b=typeof b==="function"?b(w(e.state.mergedPropsStyles,e.unreadPropStyles,e.state.lastIdealStyles)):b;if(x(e.state.currentStyles,b,e.state.currentVelocities,e.state.mergedPropsStyles)){e.animationID=null;e.accumulatedTime=0;return}a=a||p["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>v*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/v)*v)/v;c=Math.floor(e.accumulatedTime/v);b=z(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,b,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities);var d=b[0],f=b[1],g=b[2],h=b[3];b=b[4];for(var i=0;i<d.length;i++){var j=d[i].style,k={},l={},n={},o={};for(var q in j){if(!Object.prototype.hasOwnProperty.call(j,q))continue;var r=j[q];if(typeof r==="number")k[q]=r,l[q]=0,n[q]=r,o[q]=0;else{var s=h[i][q],t=b[i][q];for(var u=0;u<c;u++){var y=m["default"](v/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);s=y[0];t=y[1]}y=m["default"](v/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);u=y[0];r=y[1];k[q]=s+(u-s)*a;l[q]=t+(r-t)*a;n[q]=s;o[q]=t}}h[i]=n;b[i]=o;f[i]=k;g[i]=l}e.animationID=null;e.accumulatedTime-=c*v;e.unreadPropStyles=null;e.startAnimationIfNecessary();e.setState({currentStyles:f,currentVelocities:g,lastIdealStyles:h,lastIdealVelocities:b,mergedPropsStyles:d})})};this.state=this.defaultState()}f.prototype.defaultState=function(){var a=this.props,b=a.defaultStyles,c=a.styles,d=a.willEnter,e=a.willLeave;a=a.didLeave;var f=typeof c==="function"?c(b):c;c=void 0;b==null?c=f:c=b.map(function(a){for(var b=0;b<f.length;b++)if(f[b].key===a.key)return f[b];return a});var g=b==null?f.map(function(a){return l["default"](a.style)}):b.map(function(a){return l["default"](a.style)});b=b==null?f.map(function(a){return k["default"](a.style)}):b.map(function(a){return k["default"](a.style)});d=z(d,e,a,c,f,g,b,g,b);e=d[0];a=d[1];c=d[2];g=d[3];b=d[4];return{currentStyles:a,currentVelocities:c,lastIdealStyles:g,lastIdealVelocities:b,mergedPropsStyles:e}};f.prototype.componentDidMount=function(){this.prevTime=p["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);a=a.styles;typeof a==="function"?this.unreadPropStyles=a(w(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=a;this.animationID==null&&(this.prevTime=p["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.unmounting=!0,this.animationID!=null&&(q["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=w(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles);a=this.props.children(a);return a&&s["default"].Children.only(a)};return f}(s["default"].Component);M["default"]=c;N.exports=M["default"]}var O=!1;function ia(){O||(O=!0,ha());return N.exports}var P={},Q={exports:P};function ja(){P.__esModule=!0,P["default"]={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},Q.exports=P["default"]}var R=!1;function S(){R||(R=!0,ja());return Q.exports}var T={},U={exports:T};function ka(){T.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};T["default"]=d;function b(a){return a&&a.__esModule?a:{"default":a}}d=S();b=b(d);var c=a({},b["default"].noWobble,{precision:.01});function d(b,d){return a({},c,d,{val:b})}U.exports=T["default"]}var V=!1;function la(){V||(V=!0,ka());return U.exports}var W={},X={exports:W};function ma(){W.__esModule=!0;W["default"]=a;function a(){}X.exports=W["default"]}var Y=!1;function na(){Y||(Y=!0,ma());return X.exports}var Z={},oa={exports:Z};function pa(){Z.__esModule=!0;function a(a){return a&&a.__esModule?a["default"]:a}var b=ca();Z.Motion=a(b);b=ea();Z.StaggeredMotion=a(b);b=ia();Z.TransitionMotion=a(b);b=la();Z.spring=a(b);b=S();Z.presets=a(b);b=t();Z.stripStyle=a(b);b=na();Z.reorderKeys=a(b)}var $=!1;function qa(){$||($=!0,pa());return oa.exports}function c(a){switch(a){case void 0:return qa()}}e.exports=c}),null);
__d("react-motion",["react-motion-0.5.2"],(function(a,b,c,d,e,f){e.exports=b("react-motion-0.5.2")()}),null);
__d("ReactMotion",["react-motion"],(function(a,b,c,d,e,f){e.exports=b("react-motion")}),null);
__d("Autosize",["cx","CSS","DOM","Style"],(function(a,b,c,d,e,f,g){["fontFamily","fontStyle","fontVariant","fontWeight","letterSpacing","textDecoration","textIndent","textTransform","whiteSpace","wordSpacing","wordWrap"];var h=/^[0-9]+$/;function i(a){var c,d=a.cloneNode(!0);b("CSS").addClass(d,"_4g");var e=a.clientWidth-(c=b("Style")).getFloat(a,"paddingLeft")-c.getFloat(a,"paddingRight");c.set(d,"width",e+"px");e=a.clientHeight-c.getFloat(a,"paddingTop")-c.getFloat(a,"paddingBottom");c.set(d,"height",e+"px");b("DOM").insertAfter(a,d);return d}function j(a,c,d,e,f){var g=a.style.fontSize,h=a.style.height;b("Style").set(a,"height","auto");var i;c!==null&&(i=a.style.width,b("Style").set(a,"width","auto"));var j=0,k=f.length-1;while(j<k){var l=Math.ceil((j+k)/2);b("Style").set(a,"font-size",f[l]+e);d!==null&&a.scrollHeight>d||c!==null&&a.scrollWidth>c?k=l-1:j=l}a.style.fontSize=g;a.style.height=h;c!==null&&(a.style.width=i);return f[j]+e}function k(a,c,d,e,f,g){var h=a.style.fontSize,i=a.style.height;b("Style").set(a,"height","auto");var j;c!==null&&(j=a.style.width,b("Style").set(a,"width","auto"));b("Style").set(a,"font-size",g+e);if((d===null||a.scrollHeight<=d)&&(c===null||a.scrollWidth<=c)){a.style.fontSize=h;a.style.height=i;c!==null&&(a.style.width=j);return g+e}b("Style").set(a,"font-size",f+e);if(d!==null&&a.scrollHeight>d||c!==null&&a.scrollWidth>c){a.style.fontSize=h;a.style.height=i;c!==null&&(a.style.width=j);return f+e}while(f+1<g){var k=Math.ceil((f+g)/2);b("Style").set(a,"font-size",k+e);d!==null&&a.scrollHeight>d||c!==null&&a.scrollWidth>c?g=k:f=k}a.style.fontSize=h;a.style.height=i;c!==null&&(a.style.width=j);return f+e}function a(a,b){this._wrap=a;this._attr=b;if(this._attr.sizes){a=this._attr.sizes;for(var c=1,d=a.length;c<d;c++){if(a[c-1]<=a[c])continue;a.sort(function(a,b){return a-b});break}}else if(b.min>b.max){c=b.min;b.min=b.max;b.max=c}this.fit()}a.prototype.fit=function(a,c){var d=this._wrap;if(!d.clientWidth){l.push(this);return}var e=i(d);typeof a==="undefined"&&(a=this._attr.width);h.test(a)?e.style.width=a+"px":a!==null&&a!=="auto"&&(e.style.width=a);typeof c==="undefined"&&(c=this._attr.height);h.test(c)?e.style.height=c+"px":c!==null&&c!=="auto"&&(e.style.height=c);a=null;this._attr.wrap||(a=e.clientWidth);var f=null;(this._attr.wrap||c!==null)&&(f=e.clientHeight);this._attr.sizes?c=j(e,a,f,"px",this._attr.sizes):c=k(e,a,f,"px",this._attr.min,this._attr.max);b("DOM").remove(e);b("Style").set(d,"font-size",c);b("CSS").removeClass(d,"invisible_elem")};var l=[];a.onNodeInserted=function(){var a=l;l=[];a.forEach(function(a){a.fit()})};e.exports=a}),null);
__d("Autosize.react",["cx","Autosize","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return i.jsx("div",{style:{height:"auto",width:this.props.width?this.props.width+"px":"auto"},className:"_1obl invisible_elem",ref:function(b){return a.$1=b},children:this.props.children})};d.componentDidMount=function(){new(b("Autosize"))(this.$1,babelHelpers["extends"]({},this.props)),requestAnimationFrame(function(){return b("Autosize").onNodeInserted()})};d.componentDidUpdate=function(a){new(b("Autosize"))(this.$1,babelHelpers["extends"]({},this.props)).fit()};return c}(i.PureComponent);e.exports=a}),null);
__d("StoriesPollStickerOptionLabel.react",["cx","Autosize.react","StoriesEnums","range","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=a.overlayHeight,d=a.overlayWidth,e=a.voteCountPercent,f=e!==void 0&&e!==null,g=.5;typeof e==="number"&&(g=e/100);e=function(){var d=a.overlayWidth*b("StoriesEnums").POLL_STICKER.AVAILABLE_WIDTH_RATIO;d=Math.floor(d*g*b("StoriesEnums").POLL_STICKER.VOTE_OPTION_MAX_WIDTH_RATIO);var e=Math.floor(f?b("StoriesEnums").POLL_STICKER.TEXT_SMALL_HEIGHT_RATIO*c:b("StoriesEnums").POLL_STICKER.TEXT_BIG_HEIGHT_RATIO*c);return{height:e,width:d}};var h=function(){var c={color:a.isSelected&&a.isOverflowedOption?b("StoriesEnums").POLL_STICKER.TEXT_COLOR_GREY:b("StoriesEnums").POLL_STICKER.BACKGROUND_COLOR_BLUE,height:"auto",width:l},d=f?{lineHeight:1}:{};return babelHelpers["extends"]({},c,d)};e=e();var j=b("StoriesEnums").POLL_STICKER.VOTE_OPTION_MAX_WIDTH_RATIO*100,k="oqcyycmt po0baly6 jm1wdb64 aenfhxwr taijpn5t g5gj957u buofh1pr cbu4d94t rj1gh0hx j83agx80 rq0escxv"+(a.isSelected?" igj13h7g":""),l=a.isOverflowLayout?b("StoriesEnums").POLL_STICKER.DEFAULT_OPTION_WIDTH_RATIO*d*b("StoriesEnums").POLL_STICKER.VOTE_OPTION_MAX_WIDTH_RATIO:e.width,m={};h=h();a.isOverflowLayout?(m.maxWidth=l,h.width="auto"):m.maxWidth=j+"%";j=f&&g<=.5?1:0;j={color:b("StoriesEnums").POLL_STICKER.TEXT_COLOR_GREY,fontSize:d*b("StoriesEnums").POLL_STICKER.VOTE_COUNT_FONT_SIZE_RATIO,width:h.width,zIndex:j};var n=f?b("StoriesEnums").POLL_STICKER.TEXT_SMALL_MIN_FONT_SIZE_RATIO*d:b("StoriesEnums").POLL_STICKER.TEXT_BIG_MIN_FONT_SIZE_RATIO*d;d=f?b("StoriesEnums").POLL_STICKER.TEXT_SMALL_MAX_FONT_SIZE_RATIO*d:b("StoriesEnums").POLL_STICKER.TEXT_BIG_MAX_FONT_SIZE_RATIO*d;a.isSelected&&a.isOverflowedOption?h=babelHelpers["extends"]({},h,{color:b("StoriesEnums").POLL_STICKER.TEXT_COLOR_GREY}):a.isSelected&&a.isResultView&&(j.color="white",h=babelHelpers["extends"]({},h,{color:"white"}));a.isInstagramStyle&&(j.color=b("StoriesEnums").POLL_STICKER.TEXT_COLOR_GREY,h.color=a.isLeftOption?b("StoriesEnums").POLL_STICKER.IG_LEFT_TEXT_COLOR:b("StoriesEnums").POLL_STICKER.IG_RIGHT_TEXT_COLOR);return i.jsxs("div",{className:k,style:m,children:[i.jsx("div",{className:"_66l8",style:babelHelpers["extends"]({},h,{textAlign:a.align}),children:i.jsx(b("Autosize.react"),{height:e.height,sizes:b("range")(n,d+1,2),width:l,children:a.text.toUpperCase()})}),f&&i.jsx("div",{className:"_66l8",style:babelHelpers["extends"]({},j,{textAlign:a.align}),children:(a.voteCountPercent||0)+"%"})]})}}),null);
__d("StoriesPollStickerOption.react",["CometPressable.react","ReactMotion","StoriesEnums","StoriesPollStickerOptionLabel.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j=b("ReactMotion").Motion,k=b("ReactMotion").presets,l=b("ReactMotion").spring,m={fbStoriesPollStickerOption:{alignItems:"bp9cbjyn",backgroundColor:"mkbloq8g",cursor:"nhd2j8a9",display:"j83agx80",height:"datstx6m",justifyContent:"taijpn5t",minWidth:"n5yhfkqm",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso",pointerEvents:"oqq733wu",userSelect:"abiwlrkh",width:"k4urcfbm"},leftOption:{borderEnd:"h3mn19vb"},resultsOrjustVoted:{alignItems:"bp9cbjyn",borderEnd:"bn081pho",cursor:"bnpdmtie",display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"taijpn5t",pointerEvents:"hzruof5a"},selectedResultsAuthor:{backgroundImage:"ceizbtlg"},selectedResultsConsumerOrJustVoted:{backgroundColor:"j0apdczp"},voting:{":hover":{backgroundColor:"mo3u6lec"},":active":{backgroundColor:"hdj6kjfu"}}};function a(a){var c=a.isLeftOption,d=a.overlayHeight,e=a.overlayWidth,f=a.width,g=n(a);if(a.votingPhase===b("StoriesEnums").VOTING_PHASES.VOTING)return i.jsx("div",{className:(h||(h=b("stylex")))(m.fbStoriesPollStickerOption,c&&m.leftOption,m.voting),style:babelHelpers["extends"]({},g,{width:b("StoriesEnums").POLL_STICKER.DEFAULT_OPTION_WIDTH_RATIO*f}),children:i.jsx(b("CometPressable.react"),{display:"inline",onPress:a.onSelect,overlayDisabled:!0,children:i.jsx(b("StoriesPollStickerOptionLabel.react"),{align:g.textAlign,isInstagramStyle:a.isInstagramStyle,isLeftOption:a.isLeftOption,isOverflowLayout:a.isOverflowLayout,isOverflowedOption:a.isOverflowedOption,isResultView:!a.isConsumer,isSelected:a.isSelected,overlayHeight:d,overlayWidth:e,text:a.text||"",voteCountPercent:a.voteCountPercent})})});if(a.votingPhase===b("StoriesEnums").VOTING_PHASES.RESULTS)return i.jsx("div",{className:(h||(h=b("stylex")))(m.fbStoriesPollStickerOption,c&&m.leftOption,m.resultsOrjustVoted,a.isSelected&&(a.isConsumer===!0?m.selectedResultsConsumerOrJustVoted:m.selectedResultsAuthor)),style:babelHelpers["extends"]({},g,{width:f}),children:i.jsx(b("StoriesPollStickerOptionLabel.react"),{align:g.textAlign,isInstagramStyle:a.isInstagramStyle,isLeftOption:a.isLeftOption,isOverflowLayout:a.isOverflowLayout,isOverflowedOption:a.isOverflowedOption,isResultView:!a.isConsumer,isSelected:a.isSelected,overlayHeight:d,overlayWidth:e,text:a.text||"",voteCountPercent:a.voteCountPercent})});var o=c&&a.isSelected||!c&&!a.isSelected;o=o?0:e;f=c?f:Math.abs(f-e);o=Math.floor(c?o:Math.abs(e-o));f=Math.floor(c?f:Math.abs(e-f));return i.jsx(j,{defaultStyle:{width:o},style:{width:l(f,babelHelpers["extends"]({},k.noWobble))},children:function(f){return i.jsx("div",{className:(h||(h=b("stylex")))(m.fbStoriesPollStickerOption,c&&m.leftOption,m.resultsOrjustVoted,a.isSelected&&m.selectedResultsConsumerOrJustVoted),style:babelHelpers["extends"]({},f,g),children:i.jsx(b("StoriesPollStickerOptionLabel.react"),{align:g.textAlign,isInstagramStyle:a.isInstagramStyle,isLeftOption:a.isLeftOption,isOverflowLayout:a.isOverflowLayout,isOverflowedOption:a.isOverflowedOption,isResultView:!1,isSelected:a.isSelected,overlayHeight:d,overlayWidth:e,text:a.text||"",voteCountPercent:a.voteCountPercent})})}})}var n=function(a){var c={textAlign:"center"};a.isSelected&&a.votingPhase===b("StoriesEnums").VOTING_PHASES.RESULTS&&a.isInstagramStyle&&(c=babelHelpers["extends"]({},c,{background:b("StoriesEnums").POLL_STICKER.BACOGROUND_COLOR_SLATE}));if(a.optionsCount===1)return babelHelpers["extends"]({},c,{borderEnd:"0px"});var d=a.isLeftOption?"Left":"Right",e=a.isLeftOption?"left":"right",f=a.isLeftOption?"flex-start":"flex-end";d="padding"+d;if(a.isOverflowLayout){c=babelHelpers["extends"]({},c,(f={alignItems:f},f[d]=b("StoriesEnums").POLL_STICKER.OVERFLOW_CHILD_PADDING_RATIO*a.overlayWidth+"px",f))}else if(!a.isInstagramStyle){c=babelHelpers["extends"]({},c,(f={},f[d]=b("StoriesEnums").POLL_STICKER.CHILD_PADDING_RATIO*a.overlayWidth+"px",f))}a.isOverflowedOption&&(c.textAlign=e);return c}}),null);
__d("StoriesPollSticker.react",["CometRelay","StoriesActorContext","StoriesCardOverlayPositioner.react","StoriesEnums","StoriesPauseReasons","StoriesPollStickerMutation.graphql","StoriesPollStickerOption.react","StoriesPollSticker_overlay.graphql","StoriesPollSticker_owner.graphql","StoriesPollSticker_story.graphql","react","stylex","uuid"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j,k,l,m=k||b("react");function a(a){var c,d=b("CometRelay").useFragment(g!==void 0?g:g=b("StoriesPollSticker_overlay.graphql"),a.overlay),e=b("CometRelay").useFragment(h!==void 0?h:h=b("StoriesPollSticker_owner.graphql"),a.owner),f=b("CometRelay").useFragment(i!==void 0?i:i=b("StoriesPollSticker_story.graphql"),a.story),j=b("CometRelay").useRelayEnvironment(),k=m.useState(!1),q=k[0],s=k[1];k=m.useContext(b("StoriesActorContext"));var t=k.actorID;k=a.containerHeight;var u=a.containerWidth,v=d==null?void 0:d.poll,w=d==null?void 0:d.style,x=w===b("StoriesEnums").POLL_STICKER.IG_TWO_OPTION_COMBINED;w=d==null?void 0:(w=d.voting_control_bounds)==null?void 0:w.width;c=d==null?void 0:(c=d.voting_control_bounds)==null?void 0:c.height;if(typeof w!=="number"||typeof c!=="number")return null;var y=w*u,z=c*k,A=function(b){var c=v==null?void 0:v.can_viewer_vote;if(c===!1)return;s(!0);c={optionIndex:b,storyID:a.cardID};r(c,j,d)},B=function(){var a=(v==null?void 0:v.poll_options)||[],c=v==null?void 0:v.viewer_vote_index,g=v==null?void 0:v.can_viewer_vote,h=a.reduce(function(a,b){return a+(b.vote_count||0)},0),i=o(a),j=c!=null&&c>=0,k=!n(e,f,t);g=k?!j&&g:h===0;var l=!q&&!g,m=q&&!g,r=0,s=[],u=p(d);a.forEach(function(d,e){var f=d.text;d=d.vote_count;var g=e===c||u;if(typeof d!=="number")return;if((l||m)&&d===0)return;var n=void 0;w=y;var o=b("StoriesEnums").VOTING_PHASES.VOTING,p=!1;if(l||m){l?o=b("StoriesEnums").VOTING_PHASES.RESULTS:m&&(o=b("StoriesEnums").VOTING_PHASES.JUST_VOTED);var t=!k&&!j&&i===e;p=g||t;if(e===a.length-1)n=100-r;else{g=d/h;n=g*100;t=Math.round(n)!==n;d=n<.1;g=t?n.toFixed(d?1:0):n;n=parseFloat(g);r+=n}w=y*(n/100)}s.push({animateIn:q,isConsumer:k,isSelected:p,key:e,onSelect:function(){return A(e)},text:f,voteCountPercent:n,votingPhase:o,width:w})});return s};c=function(){a.setPause(!0,b("StoriesPauseReasons").MOUSE_ENTER_POLL_STICKER)};var C=function(){a.setPause(!1,b("StoriesPauseReasons").MOUSE_ENTER_POLL_STICKER)},D=function(){var a=B(),c=a.findIndex(function(a){return a.width<=b("StoriesEnums").POLL_STICKER.MINIMUM_LABEL_WIDTH_RATIO*y});return a.map(function(d,e){return m.jsx(b("StoriesPollStickerOption.react"),babelHelpers["extends"]({},d,{isInstagramStyle:x,isLeftOption:e===0,isOverflowLayout:c>=0,isOverflowedOption:c===e,optionsCount:a.length,overlayHeight:z,overlayWidth:y}))})};D=D();return m.jsx(b("StoriesCardOverlayPositioner.react"),{bounds:d==null?void 0:d.voting_control_bounds,containerHeight:k,containerWidth:u,children:m.jsx("div",{className:(l||(l=b("stylex"))).dedupe({"align-items-1":"gs1a9yip","background-color-1":"q2y6ezfg","border-top-0.3":"qu0x051f","border-end-0.3":"esr5mh6w","border-bottom-0.3":"e9989ue4","border-start-0.3":"r7d6kgcz","bottom-1":"i09qtzwb","box-shadow-1":"jkio9rs9","color-1":"ljqsnud1","display-1":"j83agx80","flex-direction-1":"btwxx1t3","height-1":"datstx6m","justify-content-1":"jifvfom9","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","pointer-events-1":"oqq733wu","position-1":"pmk7jnqg","top-1":"kr520xx4","transform-origin-1":"dd2scrzq","width-1":"k4urcfbm"},x?null:{"border-top-start-radius-1":"a4snqeeb","border-top-end-radius-1":"m5mjud78","border-bottom-end-radius-1":"o5016i8p","border-bottom-start-radius-1":"te4y77sl"},x?{"border-top-start-radius-1":"fni8adji","border-top-end-radius-1":"hgaippwi","border-bottom-end-radius-1":"fykbt5ly","border-bottom-start-radius-1":"ns4ygwem"}:null),onMouseEnter:c,onMouseLeave:C,children:D})})}var n=function(a,b,c){a=a;if(a==null)return!1;c=c;b=b==null?void 0:(b=b.via)==null?void 0:b.id;return a.id===c||b===c},o=function(a){return a.reduce(function(b,c,d){c=c==null?void 0:c.vote_count;var e=a[b].vote_count;return typeof c==="number"&&typeof e==="number"&&e<c?d:b},0)},p=function(a){a=(a==null?void 0:(a=a.poll)==null?void 0:a.poll_options)||[];return a.filter(function(a){a=a==null?void 0:a.vote_count;return typeof a==="number"&&a>0}).length===1},q=function(a,c){var d=a.get(c.storyID);d=d&&d.getLinkedRecords("story_overlays")||[];var e=null;d.map(function(a){if(a==null)return;a.getValue("__typename")==="StoryOverlayPollSticker"&&(e=a.getLinkedRecord("poll"))});if(e==null)return;d=c.optionIndex;e.setValue(d,"viewer_vote_index");c=e.getLinkedRecords("poll_options");var f=c.length,g=new Array(f);g[f-d-1]=c[f-d-1];g[d]=a.create("client:newNode:"+b("uuid")(),"StoryCardPollOption");g[d].setValue(c[d].getValue("vote_count")+1,"vote_count");g[d].setValue(c[d].getValue("text"),"text");e.setLinkedRecords(g,"poll_options")},r=function(a,c,d){d=d==null?void 0:(d=d.poll)==null?void 0:d.id;if(d==null)return;b("CometRelay").commitMutation(c,{mutation:s,optimisticUpdater:function(b){return q(b,a)},variables:{input:{option:a.optionIndex,story_card_poll_id:d}}})},s=j!==void 0?j:j=b("StoriesPollStickerMutation.graphql")}),null);