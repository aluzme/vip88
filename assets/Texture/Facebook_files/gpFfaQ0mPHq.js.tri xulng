if (self.CavalryLogger) { CavalryLogger.start_js(["X8wn+U4"]); }

__d("useCometInspirationsCustomFont_customFont.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometInspirationsCustomFont_customFont",selections:[{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null}],type:"InspirationsCustomFont",abstractKey:null};e.exports=a}),null);
__d("useCometFeedFormattedTextRenderer_message.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedFormattedTextRenderer_message",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextWithEntities",abstractKey:null};e.exports=a}),null);
__d("useCometFeedFormattedTextRenderer_metadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:500}],b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useCometFeedFormattedTextRenderer_metadata",selections:[{alias:null,args:null,kind:"ScalarField",name:"avatar_story_text_format_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"background_image",plural:!1,selections:b,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_weight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_style",storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:b,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_align",storageKey:null}],type:"TextFormatMetadata",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:500}],c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message$normalization",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatar_story_text_format_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"background_image",plural:!1,selections:c,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_weight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_style",storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:c,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_align",storageKey:null},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null},d],storageKey:null}],storageKey:null},d],storageKey:null}]}}();e.exports=a}),null);
__d("CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedFormattedTextRenderer_message"},{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedFormattedTextRenderer_metadata"},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometInspirationsCustomFont_customFont"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy",abstractKey:null};e.exports=a}),null);
__d("cometHexToRgba",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var b=parseInt(a.substring(0,2),16)/255,c=parseInt(a.substring(2,4),16),d=parseInt(a.substring(4,6),16);a=parseInt(a.substring(6,8),16);return"rgba("+c+","+d+","+a+","+b+")"}}),null);
__d("useCometInspirationsCustomFont",["CometRelay","promiseDone","useCometInspirationsCustomFont_customFont.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=new Set();function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useCometInspirationsCustomFont_customFont.graphql"),a);if(a==null)return null;var c=a.font_name;a=a.font_url;if(c==null||a==null)return null;if(!h.has(c)){h.add(c);var d=typeof document.fonts==="object"&&typeof FontFace==="function";if(d&&a!=null){d=new FontFace(c,"url("+a+")");b("promiseDone")(d.load(),function(a){window.document.fonts.add(a)})}}return c}}),null);
__d("useCometFeedFormattedTextRenderer",["CometRelay","UnicodeUtils","cometHexToRgba","react","useCometFeedFormattedTextRenderer_message.graphql","useCometFeedFormattedTextRenderer_metadata.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j,k=i||b("react"),l=30;function m(a,b,c){var d="";switch(c){case"BOTTOM_TOP":d="to top";break;case"BL_TR":d="45deg";break;case"LEFT_RIGHT":d="to right";break;case"TL_BR":d="135deg";break;case"TR_BL":d="225deg";break;case"RIGHT_LEFT":d="to left";break;case"BR_TL":d="315deg";break;case"TOP_BOTTOM":default:d="to bottom";break}return"linear-gradient("+d+","+a+","+b+")"}function n(a){switch(a){case"normal":return"normal";case"bold":default:return"bold"}}function o(a){if(a==null||a.length===0)return l;a=(j||(j=b("UnicodeUtils"))).strlen(a);if(a>360)return 16;return a>180?24:l}function a(a,c,d){d===void 0&&(d=!1);a=b("CometRelay").useFragment(g!==void 0?g:g=b("useCometFeedFormattedTextRenderer_message.graphql"),a);c=b("CometRelay").useFragment(h!==void 0?h:h=b("useCometFeedFormattedTextRenderer_metadata.graphql"),c);var e=a==null?void 0:a.text;a=k.useMemo(function(){return o(e)},[e]);if(c==null)return{avatarStoryTextFormatId:null,backgroundStyle:null,fontSize:a,textColor:null,textStyle:null};var f=c.avatar_story_text_format_id,i=c.background_color,j=c.background_gradient_color,l=c.background_gradient_direction,p=c.background_image,q=c.color,r=c.font_style,s=c.font_weight,t=c.portrait_background_image;c=c.text_align;var u={backgroundColor:i!=null?b("cometHexToRgba")(i):null};p=p==null?void 0:p.uri;t=t==null?void 0:t.uri;if(p!=null)d&&t!=null?u.backgroundImage="url("+t+")":u.backgroundImage="url("+p+")",u.backgroundPosition="center center",u.backgroundSize="cover";else if(j!=null&&i!=null){d=b("cometHexToRgba")(i);t=b("cometHexToRgba")(j);u.backgroundImage=m(d,t,l)}p=q!=null?b("cometHexToRgba")(q):null;i={color:p,fontSize:a+"px",fontStyle:r,fontWeight:n(s),textAlign:c};return{avatarStoryTextFormatId:f,backgroundStyle:u,fontSize:a,textColor:p,textStyle:i}}}),null);
__d("CometFeedStoryFormattedBackgroundMessageRenderingStrategy.react",["CometEmojiTransform","CometEmoticonTransform","CometFeedARIAProperties.react","CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message.graphql","CometLineBreakTransform","CometLinkedEntityRenderer","CometRelay","CometTextWithEntitiesRelay.react","CometTrackingNodeRenderer","react","stylex","unrecoverableViolation","useCometFeedFormattedTextRenderer","useCometFeedStoryMatchDebugger","useCometInspirationsCustomFont","useCometSeeMoreKeyCommand"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j=h||b("react"),k=420,l=5,m={aspectRatioBox:{"float":"bzsjyuwj",paddingTop:"jsq31si4"},aspectRatioBoxWithAvatars:{"float":"bzsjyuwj",paddingTop:"n1ap2d1u"},border:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",borderBottom:"linmgsc8",borderTop:"opwvks06",pointerEvents:"hzruof5a"},container:{width:"k4urcfbm"},hiddenOverflowText:{visibility:"kr9hpln1"},link:{textDecoration:"oo483o9r",":hover":{opacity:"quwhnjym"}},root:{alignItems:"ll8tlv6m",display:"j83agx80",justifyContent:"jifvfom9",position:"l9j0dhe7",width:"k4urcfbm"},sizingBox:{width:"k4urcfbm"},text:{maxWidth:"sfj4j7ms",paddingTop:"pvbba8z0",paddingEnd:"rqr5e5pd",paddingBottom:"dy7m38rt",paddingStart:"j7igg4fr"},textContainer:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m",justifyContent:"taijpn5t",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",width:"k4urcfbm"},textContainerWithAvatars:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",height:"hdr16bak",justifyContent:"taijpn5t",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",width:"k4urcfbm"}},n=j.forwardRef(function(a,c){var d=a.expanded,e=a.onToggleExpanded,f=a.renderers,g=a.style,h=a.textWithEntities,n=a.transforms;a=babelHelpers.objectWithoutPropertiesLoose(a,["expanded","onToggleExpanded","renderers","style","textWithEntities","transforms"]);return j.jsx("div",babelHelpers["extends"]({className:(i||(i=b("stylex")))(m.text),style:g},a,{ref:c,children:j.jsx(b("CometTextWithEntitiesRelay.react"),{expanded:d,maxLength:k,maxLines:l,onToggleExpanded:e,renderers:f,textWithEntities:h,transforms:n,truncationStyle:"see-more",withParagraphs:!0})}))}),o=function(a){return function(c){return j.jsx("span",{className:(i||(i=b("stylex")))(m.link),style:{color:a},children:c})}},p=g!==void 0?g:g=b("CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message.graphql");function a(a){a=b("CometRelay").useFragment(p,a.message);b("useCometFeedStoryMatchDebugger")(a);a=a.story;var c=a==null?void 0:a.message;a=a==null?void 0:a.text_format_metadata;var d=j.useState(!1),e=d[0],f=d[1];d=j.useCallback(function(){f(function(a){return!a})},[]);b("useCometSeeMoreKeyCommand")(e,d);var g=b("useCometFeedFormattedTextRenderer")(c,a,e),h=g.avatarStoryTextFormatId,k=g.backgroundStyle,l=g.fontSize,q=g.textColor;g=g.textStyle;var r=j.useMemo(function(){return[b("CometEmoticonTransform")({size:l}),b("CometEmojiTransform")({size:l}),b("CometLineBreakTransform")]},[l]),s=j.useMemo(function(){var a=[o(q),b("CometLinkedEntityRenderer"),b("CometTrackingNodeRenderer")];return{Event:a,ExternalUrl:a,Group:a,GroupHashtag:a,GroupRule:a,Hashtag:a,Page:a,User:a}},[q]),t=j.useContext(b("CometFeedARIAProperties.react"));a=b("useCometInspirationsCustomFont")(a==null?void 0:a.inspirations_custom_font_object);if(c==null)throw b("unrecoverableViolation")("storyMessage cannot be null in CometFeedStoryFormattedBackgroundMessageRenderingStrategy","comet_feed");g=babelHelpers["extends"]({},g,{fontFamily:a});return j.jsx("div",{className:(i||(i=b("stylex")))(m.container),"data-testid":void 0,children:j.jsxs("div",{className:i(m.root),style:k,children:[j.jsxs("div",{"aria-hidden":!0,className:i(m.sizingBox),children:[j.jsx("div",{className:h===null?(i||(i=b("stylex")))(m.aspectRatioBox):(i||(i=b("stylex")))(m.aspectRatioBoxWithAvatars)}),j.jsx("div",{className:i(m.hiddenOverflowText),children:j.jsx(n,{expanded:e,renderers:s,style:g,textWithEntities:c,transforms:r})})]}),j.jsx("div",{className:h===null?(i||(i=b("stylex")))(m.textContainer):(i||(i=b("stylex")))(m.textContainerWithAvatars),children:j.jsx(n,babelHelpers["extends"]({expanded:e},t.contentTargetProps,{onToggleExpanded:d,ref:t.contentTargetRef,renderers:s,style:g,textWithEntities:c,transforms:r}))}),j.jsx("div",{className:i(m.border)})]})})}}),null);